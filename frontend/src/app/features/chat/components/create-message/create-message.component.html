<div *ngIf="!message.empty()">
  <app-message [message]="message" no="preview"></app-message>
</div>

<form (ngSubmit)="onSubmit()">
  <label class="mt-4">
    <div>Write Message</div>
    <textarea
      class="block w-full"
      required
      name="text"
      (input)="handleChange($event)"
      [(ngModel)]="message.text"
    ></textarea>
  </label>

  <div *ngIf="errorMessage" class="text-red-500 mt-2">
    {{ errorMessage }}
  </div>

  <button
    type="submit"
    [disabled]="message.status === 'pending'"
    class="pointer bg-blue-400 py-2 px-4 mt-2 w-full"
    [ngClass]="{'bg-gray-400': message.status === 'pending'}"
  >
    Send
  </button>
</form>
